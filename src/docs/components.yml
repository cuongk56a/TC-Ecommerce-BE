components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: string
        phone:
          type: string
        email:
          type: string
          format: email
        fullName:
          type: string
        country:
          type: string
        address:
          type: string
        isAdmin:
          type: boolean
        isTeacher:
          type: boolean
        organizationId:
          type: string
      example:
        id: 5ebac534954b54139806c112
        email: fake@example.com
        fullName: fake name
        isTeacher: false

    Parent:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        studentId:
          type: string
        parentId:
          type: string
        relationship:
          type: string
          enum: [FATHER, MOTHER, GRANDFATHER, GRANDMOTHER]
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        studentId: wcf1sbrnas0pqoolbmv8eclj
        parentId: wcf1sbrnas0pqoolbmv8eclj
        relationship: FATHER

    AttendenceShuttle:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        classId:
          type: string
        studentId:
          type: string
        date:
          type: string
        note:
          type: string
        status:
          type: string
          enum: [UNDEFINED, ON_TIME, LATE]
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_organization
        classId: kgdasd1230123sadnar1e1
        studentId: wcf1sbrnas0pqoolbmv8eclj
        date: 16-10-2021
        status: ON_TIME

    AttendenceStudy:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        classId:
          type: string
        studentId:
          type: string
        date:
          type: string
        note:
          type: string
        status:
          type: string
          enum: [UNDEFINED, UNEXCUSED, LATE, EXCUSED_ABSENCE]
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_organization
        classId: v23910dasd31e0adf3fa
        studentId: wcf1sbrnas0pqoolbmv8eclj
        date: 16-10-2021
        status: LATE

    Class:
      type: object
      properties:
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        name:
          type: string
        teacherId:
          type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_organization
        name: 12A2
        teacherId: f24iztldzux0p4yc2655tryb

    Subject:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_edu_class, vttool_organization]
        name:
          type: string
        thumbnail:
          type: string
        description:
          type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        name: Cấu trúc dữ liệu và giải thuật
        thumbnail: default.jpg
        description: Khó và dễ

    Score:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_edu_class, vttool_organization]
        studentId:
          type: string
        subjectId:
          type: string
        teacherId:
          type: string
        semester:
          type: number
        point: 
          type: number
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        studentId: f24iztldzux0p4yc2655tryb
        teacherId: wnocq61c5kep42831co3imws
        semester: 1
        point: 7

    Student:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        studentId:
          type: string
        classId:
          type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_organization
        studentId: f24iztldzux0p4yc2655tryb
        classId: wnocq61c5kep42831co3imws

    Teacher:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_edu_class, vttool_organization]
        teacherId:
          type: string
        subjectId:
          type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        teacherId: f24iztldzux0p4yc2655tryb
        subjectId: wnocq61c5kep42831co3imws

    News:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        publishAsId:
          type: string
        publishOnModel:
          type: string
          enum: [vttool_edu_class,vttool_user, vttool_organization]
        content:
          type: string
        newsType:
          type: string
          enum: [NORMAL]
        attachments:
          type: array
          items:
            fileName:
              type: string
            fileType:
              type: string
            thumbnail:
              type: string
        links:
          type: array
          items:
            type: string
        hashTag:
          type: array
          items: 
            type: string

      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_organization
        publishAsId: f24iztldzux0p4yc2655tryb
        publishOnModel: vttool_organization
        content: Lịch nghỉ tết
        newsType: NORMAL
        attachments: [{fileName: kanasbasfi.jpg, fileType: IMAGE}]

    Inform:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        notiId: 
          type: string
        notiOnModel:
          type: string
          enum: [vttool_edu_class, vttool_organization, vttool_user]
        title:
          type: string
        informType: 
          type: string
          enum: [EXCUSED_ABSENCE,MEDICINE_REMIND,SHUTTLE,REMINDER]
        statusType: 
          type: string
          enum: [WAIT, UNACCEPT, ACCEPT]
        entityId:
          type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_organization
        notiId: vad912183129c0ad010394
        notiOnModel: vttool_edu_class
        title: Lịch nghỉ tết
        informType: NOTIFICATION
        statusType: WAIT
        entityId: 0ca19e9fjad0101jad9v93

    TimeTable:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        classId:
          type: string
        content:
          type: string
        startAt:
          type: string
        endAt:
          type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        classId: f24iztldzux0p4yc2655tryb
        content: Toán
        startAt: 10/00/35 20-11-2023
        endAt: 11/15/56 20-11-2023

    EatSchedule:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        classId:
          type: string
        content:
          type: string
        startAt:
          type: string
        endAt:
          type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        classId: f24iztldzux0p4yc2655tryb
        content: Sữa đậu
        startAt: 10/00/35 20-11-2023
        endAt: 11/15/56 20-11-2023

    ExcusedAbsence:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        classId:
          type: String
        studentId:
          type: string
        content:
          type: string
        status: 
          type: string
          enum: [WAIT, ACCEPT, UNACCEPT]
        startAt:
          type: string
        endAt:
          type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        classId: f24iztldzux0p4yc2655tryb
        studentId: 10e120cn01230120ad
        content: Cháu bị ốm
        startAt: 26-12-2023
        endAt: 27-12-2023

    MedicineRemind:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        date:
          type: string
        medicineIds:
          type: array
        classId:
          type: string
        note:
          type: string
        studentId: 
          type: string
        status:
          type: string
          enum: [WAIT, ACCEPT, UNACCEPT]
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        medicines: ["91jada0ck9asdi12", "1e99cjasd0asdi1edas"]
        date: 30/12/2023
        classId: 129e1929v9ud12ad
        studentId: 19299fuanva812ea
        note: Nhớ cho cháu uống thuốc

    Medicine: 
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        name:
          type: string
        content:
          type: string
        timeUse:
          type: string
        attachments:
          type: array
          items:
            type: object
            properties:
              fileName:
                type: string
              fileType:
                type: string
              thumbnail:
                type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        name: Thuốc ho
        time: Uống sau ăn
        timeUse: 07:12
        attachments: [{fileName: default.jpg}]

    PeopleShuttle:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        name:
          type: string
        phone:
          type: string
        relationship:
          type: string
          enum: [GRANDFATHER, GRANDMOTHER, FATHER, MOTHER, OTHER]
        studentId:
          type: string
        attachments:
          type: array
          items:
            type: object
            properties:
              fileName:
                type: string
              fileType:
                type: string
              thumbnail:
                type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        name: f24iztldzux0p4yc2655tryb
        phone: ad21ca2120j34
        relationship: MOTHER
        studentId: 2rsd9s8c83jada
        attachments: [{fileName: default.jpg}]

    Shuttle:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        studentId:
          type: string
        peopleShuttleId:
          type: string
        classId:
          type: string
        shuttleType:
          type: string
          enum: [SOON, LATE, ON_TIME]
        statusType:
          type: string
          enum: [WAIT, ACCEPT, UNACCEPT]
        note: 
          type: string
        startAt:
          type: string
        endAt:
          type: string
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        studentId: f24iztldzux0p4yc2655tryb
        peopleShuttleId: vodas01293i21ada1
        classId: bifi9102ekc0a1221
        shuttleType: LATE
        statusType: ACCEPT
        note: Mong cô trông cháu trong thời gian bố mẹ chưa có mặt
        startAt: 10/00/35 20-11-2023
        endAt: 11/15/56 20-11-2023

    Reminder:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        remindTo:
          type: string
        remindOnModel:
          type: string
          enum: [vttool_edu_class, vttool_organization]
        studentId:
          type: string
        title:
          type: string
        content: 
          type: string
        status:
          type: string
          enum: [WAIT, ACCEPT, UNACCEPT]
      example:
        id: 4t93xulbv202kesqjajp3x33
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_edu_class
        remindTo: f24iztldzux0p4yc2655tryb
        remindOnModel: vttool_edu_class
        studentId: bifi9102ekc0a1221
        title: Thiết bị học tập
        content: Đồ dùng cũ
        statusType: WAIT

    Client:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_user, vttool_organization]
        logo:
          type: string
        website:
          type: string
      example:
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_user
        logo: imageGBA.png
        website: gba.com

    Education:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_user, vttool_organization]
        rangeYear:
          type: string
        position:
          type: string
        workplace:
          type: string
        description:
          type: string
      example:
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_user
        rangeYear: 2020-2022
        position: student
        workplace: class
        description: vtech
    Skill:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_user, vttool_organization]
        name:
          type: string
        percent:
          type: number
      example:
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_user
        name: natus
        percent: 72
    Work:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_user, vttool_organization]
        rangeYear:
          type: string
        position:
          type: string
        workplace:
          type: string
        description:
          type: string
      example:
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_user
        rangeYear: 2000-2020
        position: dev
        workplace: HN
        description: dev
    Service:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_user, vttool_organization]
        thumbnail:
          type: string
        content:
          type: string
      example:
        targetId: 63ec538a3a59f0e1a2d515f3
        targetOnModel: vttool_user
        iconType: IMAGE
        icon: fa-code
        content: abcd
    Organization:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        avatar:
          type: string
        description:
          type: string
        userName:
          type: string
        phone:
          type: string
        email:
          type: string
        slogan:
          type: string
        country:
          type: string
        address:
          type: string
        aboutme:
          type: string
        website:
          type: string
      example:
        name: natus
        avatar: saaaaaaaaa.png
        description: description description description
    Blog:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        content:
          type: string
        tags:
          type: array
          items:
            type: string
      example:
        title: natus
        content: description description description
        tags: [description, description1, description3]
    Relationship:
      type: object
      properties:
        id:
          type: string
        relationshipKey:
          type: string
        userIds:
          type: array
          items:
            type: string
        relationshipType:
          type: string
          enum: [FRIEND_REQUEST, FRIEND_ACCEPTED, FOLLOWING, BLOCKED]
      example:
        relationshipKey: natus
        userIds: [63f26904aaef1ece0c3b195b,63f26904aaef1ece0c3b1960]
        relationshipType: FRIEND_REQUEST
    Contact:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
      example:
        targetId: 63f26904aaef1ece0c3b195b

    AuthData:
      type: object
      properties:
        token:
          type: string
        user:
          $ref: '#/components/schemas/User'

    AuthTokens:
      type: object
      properties:
        access:
          $ref: '#/components/schemas/Token'
        refresh:
          $ref: '#/components/schemas/Token'

    Error:
      type: object
      properties:
        code:
          type: number
        message:
          type: string

    Project:
      type: object
      properties:
        id:
          type: string
        name:
          type: string

    Phase:
      type: object
      properties:
        id:
          type: string
        name:
          type: string

    Task:
      type: object
      properties:
        id:
          type: string
        name:
          type: string

    TabView:
      type: object
      properties:
        id:
          type: string
        name:
          type: string

    FieldCf:
      type: object
      properties:
        id:
          type: string
        fieldKey:
          type: string
        fieldName:
          type: string
        fieldType:
          type: string
          enum: [Text, Description, Address, Link, Number, Progress, Select, RangeNumber, RangeDate, RangeDatetime, FullName, Phone, Email, Province, District]
        isActive:
          type: boolean
        minLength:
          type: number
        maxLength:
          type: number
        min:
          type: number
        max:
          type: number
        isRequired:
          type: boolean
        isRequiredWhenDone:
          type: boolean
        defaultValue:
          type: string
        percentageJump:
          type: number
        options:
          type: array
    Menu:
      type: object
      properties:
        name:
          type: string
        color:
          type: string
        templateUri:
          type: string
        positions:
          type: array
          items:
            type: string
            enum: [APP_QRCHECK, APP_PROFILE]
    Product:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        thumbnail:
          type: string
      example:
        name: natus
        description: description description description
        thumbnail: thumbnailthumbnailthumbnail.png
    Comment:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_product]
        content:
          type: string
        rate:
          type: number
        attachments:
          type: object
          items:
            properties:
              fileName:
                type: string
              fileType:
                type: string
              fileUri:
                type: string
      example:
        name: natus
        description: description description description
        thumbnail: thumbnailthumbnailthumbnail.png
    MiniGame:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        name:
          type: string
        thumbnail:
          type: string
        description:
          type: string
        formOfAuth:
          type: string
          enum: [NONE, FORMDATA, LOGIN, SSO_GBAMART]
        startAt:
          type: string
        endAt:
          type: string
        status:
          enum: [DRAFT, INREVIEW, ACTIVE, INACTIVE]
        turnPerMember:
          type: number
    Reward:
      type: object
      properties:
        id:
          type: string
        sku:
          type: string
        title:
          type: string
        quantity:
          type: number
        winRate:
          type: number
    Shipment:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        name:
          type: string
        description:
          type: string
        thumbnail:
          type: string
        attachments:
          type: object
          items:
            properties:
              fileName:
                type: string
              fileType:
                type: string
              fileUri:
                type: string
        manufactureAt:
          type: string
        completionAt:
          type: string
        manufactureAtTimestamp:
          type: number
        completionAtTimestamp:
          type: number
      example:
        targetId: 63f4deb9be856b63a69468ed
        targetOnModel: vttool_organization
        name: Lô hàng 991
        description: 1 bài viết đơn giản chỉ làm em vui, 1 bài viết đơn giản k có đặc biệt gì
        thumbnail: [{fileName: 63f4deb9be856b63a69468ed.pmg}]
        manufactureAt: 05-01-2021
        completionAt: 05-12-2022
        manufactureAtTimestamp: 1679305779
        completionAtTimestamp: 1679408779
    ProductProcess:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_product, vttool_shipment]
        title:
          type: string
        content:
          type: string
        workingDay:
          type: string
        attachments:
          type: object
          items:
            properties:
              fileName:
                type: string
              fileType:
                type: string
              fileUri:
                type: string
    QRCode:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_shipment]
        code:
          type: string
        codeNumber:
          type: number
        isUsed:
          type: boolean
    ProductVariation:
      type: object
      properties:
        id:
          type: string
        productId:
          type: string
        name:
          type: string
        isActive:
          type: boolean
        options:
          type: array
          items:
            properties:
              value:
                type: string
              name:
                type: string
    Brand:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_organization]
        name:
          type: string
        thumbnail:
          type: string
        isActive:
          type: boolean
    MiniAppVersions:
      type: object
      properties:
        id:
          type: string
        versionNumber:
          type: number
        packageType:
          type: string
          enum: [MINIAPP_SHOP]
        packageFile:
          type: string
        updateNote:
          type: string
        status:
          type: string
          enum: [DRAFT, DOING, BUG, REJECT, REVIEWED]
    CaringStaff:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        avatar:
          type: string
        description:
          type: string
        attachments:
          type: object
          items:
            properties:
              fileName:
                type: string
              fileType:
                type: string
              fileUri:
                type: string
      example:
        name: natus
        avatar: natus
        description: description description description
        attachments: [{fileName: fileNamefileName.png}]
    CaringService:
      type: object
      properties:
        id:
          type: string
        targetId:
          type: string
        targetOnModel:
          type: string
          enum: [vttool_production]
        caringStaffId:
          type: string
      example:
        targetId: abcd123abcd123abcd123
        targetOnModel: vttool_production
        caringStaffId: abcd123abcd123abcd123

  responses:
    DuplicateEmail:
      description: Email already taken
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 400
            message: Email already taken
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 401
            message: Please authenticate
    Forbidden:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 403
            message: Forbidden
    NotFound:
      description: Not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 404
            message: Not found

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
